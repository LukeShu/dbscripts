#!/hint/bash

FTP_BASE="/srv/repo/main"

# Repos from Arch
ARCHREPOS=('core' 'testing' 'extra' 'community' 'multilib' 'multilib-testing')
ARMREPOS=('core' 'extra' 'community')
# Official Parabola repos
OURREPOS=('libre' 'libre-testing' 'libre-multilib' 'libre-multilib-testing')
# User repos
USERREPOS=('~smv' '~xihh' '~brendan' '~lukeshu' '~emulatorman' '~aurelien' '~jorginho' '~coadde' '~drtan')
# Community project repos
PROJREPOS=('nonsystemd' 'nonsystemd-testing' 'nonprism' 'nonprism-testing' 'pcr' 'kernels' 'cross' 'java')
# Remote repos
PKGREPOS=("${ARCHREPOS[@]}" "${OURREPOS[@]}" "${USERREPOS[@]}" "${PROJREPOS[@]}")
PKGPOOL='pool/parabola_gnu+linux'
PKGPOOLARM='pool/arch_gnu+linux_arm'
SRCPOOL='src/parabola_gnu+linux'

# Directories where packages are shared between repos
# *relative to FTP_BASE*
ARCHPKGPOOLS=(pool/{packages,community})
OURPKGPOOLS=(pool/parabola_gnu+linux)
PKGPOOLS=(${OURPKGPOOLS[@]} ${ARCHPKGPOOLS[@]})
# Directories where sources are stored
ARCHSRCPOOLS=(sources/{packages,community})
OURPKGPOOLS=(src/parabola_gnu+linux)
SRCPOOLS=(${OURSRCPOOLS[@]} ${ARCHSRCPOOLS[@]})

CLEANUP_DESTDIR="$FTP_BASE/old/pkg"
CLEANUP_DRYRUN=false
# Time in days to keep moved packages
CLEANUP_KEEP=30

SOURCE_CLEANUP_DESTDIR="$FTP_BASE/old/src"
SOURCE_CLEANUP_DRYRUN=true
# Time in days to keep moved sourcepackages
SOURCE_CLEANUP_KEEP=30

REQUIRE_SIGNATURE=true

LOCK_DELAY=10
LOCK_TIMEOUT=300

[ -n "${STAGING:-}" ] || STAGING="$HOME/staging/unknown/staging"
TMPDIR="/tmp"
ARCHARCHES=(i686 x86_64)
OURARCHES=(armv7h)
ARCHES=(${ARCHARCHES[@]} ${OURARCHES[@]})
DBEXT=".db.tar.gz"
FILESEXT=".files.tar.gz"
PKGEXT=".pkg.tar.?z"
SRCEXT=".src.tar.gz"

MAKEPKGCONF="~/.makepkg.conf"
BLACKLIST_FILE="$HOME/blacklist/blacklist.txt"

# parabolaweb root
WEB_DIR=/srv/http/parabola.nu/web
